import{r as a,j as r,V as h,c as l,H as k,p as x,T as L}from"./index-DDvn9Y29.js";const w=e=>a.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},a.createElement("path",{d:"M9.93853 0.530622C10.1682 0.0672662 10.8318 0.067267 11.0615 0.530623L13.6666 5.78633C13.7578 5.97033 13.9341 6.09786 14.138 6.12737L19.9632 6.97016C20.4768 7.04446 20.6819 7.67285 20.3102 8.03352L16.0951 12.1245C15.9475 12.2677 15.8802 12.4741 15.915 12.6763L16.9101 18.4529C16.9978 18.9622 16.4609 19.3506 16.0016 19.1101L10.7914 16.3828C10.609 16.2873 10.391 16.2873 10.2086 16.3828L4.99841 19.1101C4.53907 19.3506 4.00221 18.9622 4.08993 18.4529L5.085 12.6763C5.11983 12.4741 5.0525 12.2677 4.90493 12.1245L0.689768 8.03352C0.318149 7.67285 0.523214 7.04446 1.03678 6.97016L6.86198 6.12737C7.06592 6.09786 7.24221 5.97033 7.33342 5.78633L9.93853 0.530622Z"}));function j(e){const t=Number(e);if(t<0||t>10)throw new Error("Rate must be between 0 and 10");return Math.round(t/2)}const C="_star_icon_1f34u_1",v="_star_icon_filled_1f34u_5",N="_rate_source_1f34u_9",m={star_icon:C,star_icon_filled:v,rate_source:N},E=[1,2,3,4,5],y=a.memo(e=>{const{className:t,rate:s={imdb:"0",kinopoisk:"0"},size:o=15}=e;return r.jsxs(h,{gap:"4",className:l("",{},[t]),children:[r.jsx(k,{children:E.map(i=>{const n={Svg:w,width:o,height:o,key:i,className:l(m.star_icon,{[m.star_icon_filled]:i<=j(s.kinopoisk??s.imdb)},[])};return r.jsx(x,{...n})})}),r.jsxs(L,{className:m.rate_source,tag:"p",variant:"typography14_regular",children:[s.kinopoisk?"Kinipoisk":"IMDB"," - ",s.kinopoisk??s.imdb]})]})}),I=a.memo(e=>{const{className:t,src:s,alt:o="image",errorFallback:i,fallback:n,...p}=e,[f,_]=a.useState(!0),[u,d]=a.useState(!1);return a.useLayoutEffect(()=>{const c=new Image;c.src=s??"",c.onload=()=>{_(!1)},c.onerror=()=>{_(!1),d(!0)}},[s]),f&&n?n:u&&i?i:r.jsx("img",{className:t,src:s,alt:o,...p})}),S="_film_img_1jhmp_1",g={film_img:S},F=a.memo(e=>{const{className:t,film:s}=e,o=`/${s.img.split("/").slice(2).join("/")}`;return r.jsx("div",{className:l(g.film_img_wrapper,{},[t]),children:r.jsx(I,{className:g.film_img,src:o})})});export{F,y as a};
