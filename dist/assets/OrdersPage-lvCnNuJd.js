import{r,q as m,$ as h,j as e,M as x,V as d,p as O,T as s,B as p,O as j}from"./index-DDvn9Y29.js";const y=t=>r.createElement("svg",{viewBox:"0 0 81 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},r.createElement("path",{d:"M68.5 40C68.5 55.464 55.964 68 40.5 68C25.036 68 12.5 55.464 12.5 40C12.5 24.536 25.036 12 40.5 12C55.964 12 68.5 24.536 68.5 40Z",fill:"url(#paint0_linear_687_5625)"}),r.createElement("path",{d:"M37.8267 46.0455V45.9006C37.8428 44.3632 38.0038 43.1397 38.3097 42.2301C38.6155 41.3205 39.0502 40.584 39.6136 40.0206C40.1771 39.4571 40.8532 38.938 41.642 38.4631C42.117 38.1733 42.5436 37.8312 42.9219 37.4368C43.3002 37.0343 43.598 36.5715 43.8153 36.0483C44.0407 35.5251 44.1534 34.9455 44.1534 34.3097C44.1534 33.5208 43.9683 32.8366 43.598 32.2571C43.2277 31.6776 42.7327 31.2308 42.1129 30.9169C41.4931 30.603 40.8049 30.446 40.0483 30.446C39.3883 30.446 38.7524 30.5829 38.1406 30.8565C37.5289 31.1302 37.0178 31.5608 36.6072 32.1484C36.1967 32.736 35.9593 33.5047 35.8949 34.4545H32.8523C32.9167 33.0862 33.2708 31.915 33.9148 30.9411C34.5668 29.9671 35.424 29.2225 36.4865 28.7074C37.5571 28.1922 38.7443 27.9347 40.0483 27.9347C41.465 27.9347 42.6965 28.2164 43.7429 28.7798C44.7973 29.3433 45.6103 30.116 46.1818 31.098C46.7614 32.08 47.0511 33.1989 47.0511 34.4545C47.0511 35.34 46.9143 36.1409 46.6406 36.8572C46.375 37.5736 45.9886 38.2135 45.4815 38.777C44.9825 39.3404 44.3788 39.8395 43.6705 40.2741C42.9621 40.7169 42.3947 41.1837 41.968 41.6747C41.5414 42.1577 41.2315 42.7332 41.0384 43.4013C40.8452 44.0694 40.7405 44.9025 40.7244 45.9006V46.0455H37.8267ZM39.3722 53.1932C38.7765 53.1932 38.2654 52.9799 37.8388 52.5533C37.4122 52.1267 37.1989 51.6155 37.1989 51.0199C37.1989 50.4242 37.4122 49.9131 37.8388 49.4865C38.2654 49.0599 38.7765 48.8466 39.3722 48.8466C39.9678 48.8466 40.4789 49.0599 40.9055 49.4865C41.3322 49.9131 41.5455 50.4242 41.5455 51.0199C41.5455 51.4143 41.4448 51.7765 41.2436 52.1065C41.0504 52.4366 40.7888 52.7022 40.4588 52.9034C40.1368 53.0966 39.7746 53.1932 39.3722 53.1932Z",fill:"white"}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_687_5625",x1:40.5,y1:12,x2:40.5,y2:68,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#B3ADFA"}),r.createElement("stop",{offset:1,stopColor:"#8548E8"})))),f=()=>m({mutationKey:["cancelOrder"],mutationFn:({orderId:t})=>h.put("/order/cancel",{orderId:t})}),v="_error_message_lgr5m_1",b="_cancel_order_button_lgr5m_5",E="_cancel_button_lgr5m_5",C={error_message:v,cancel_order_button:b,cancel_button:E},M=r.memo(t=>{const{className:o,isOpen:c,onClose:a,orderId:l}=t,n=f(),[u,_]=r.useState(""),g=r.useCallback(async()=>{const i=await n.mutateAsync({orderId:l});if(!i.data.success&&i.data.reason)return _(i.data.reason);a()},[n,a,l]);return e.jsx(x,{isOpen:c,onClose:a,className:o,children:e.jsxs(d,{max:!0,gap:"48",children:[e.jsxs(d,{align:"center",justify:"center",max:!0,gap:"24",children:[e.jsx(O,{Svg:y,width:100,height:100}),e.jsx(s,{tag:"h1",variant:"typography20_bold",children:"Вернуть билет?"})]}),e.jsxs(d,{max:!0,gap:"16",children:[e.jsx(p,{disabled:n.isPending,variant:"default_filled",className:C.cancel_order_button,onClick:g,children:e.jsx(s,{variant:"typography16_regular",children:n.isPending?"Загрузка...":"Вернуть"})}),e.jsx(p,{className:C.cancel_button,onClick:a,children:e.jsx(s,{variant:"typography16_regular",children:"Отменить"})})]}),u&&e.jsx(s,{className:C.error_message,variant:"typography16_regular",children:u})]})})}),w=r.memo(()=>{const[t,o]=r.useState(!1),[c,a]=r.useState(void 0),l=n=>{o(!0),a(n)};return e.jsxs("div",{children:[e.jsx(j,{onOpenCancelOrderModal:l}),c&&e.jsx(M,{orderId:c,isOpen:t,onClose:()=>o(!1)})]})}),S=()=>e.jsxs(d,{gap:"32",children:[e.jsx(s,{tag:"h1",variant:"typography32_bold",children:"Билеты"}),e.jsx(w,{})]}),k=r.memo(S);export{k as default};
